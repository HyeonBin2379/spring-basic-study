<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원가입 페이지</title>
    <script>
        // 유효성 검사 수행
        function fn_validate() {
            let registerForm = document.registerForm;
            let userID = registerForm.user_id.value;
            let userPwd = registerForm.user_pwd.value;
            let userPwdRetry = registerForm.user_pwd_retry.value;

            // 정규표현식을 사용하여 아이디 유효성 검사 수행
            if (!/[0-9a-zA-Z_]{3,20}/.test(userID)) {
                alert("아이디의 입력 형식이 맞지 않습니다.");
                return;
            }
            // 비밀번호 길이 및 재입력 유효성 검사
            if (userPwd.length < 6) {
                alert("입력한 비밀번호의 길이가 유효하지 않습니다.")
                return;
            }
            if (userPwd !== userPwdRetry) {
                alert("재입력한 비밀번호가 입력한 비밀번호와 다릅니다.");
                return;
            }

            // 유효성 검사 통과 -> post 요청을 /homework/day02/memberResult 로 전송
            registerForm.method = "post";
            registerForm.action = "memberRegister";
            registerForm.submit();
        }

        // 입력 내역 리셋
        function fn_reset() {
            let registerForm = document.registerForm;
            registerForm.reset();
        }
    </script>
</head>
<body>
<form name="registerForm">
    <h1>회원가입</h1>
    <p>아이디, 비밀번호, 성별, 취미를 입력해주세요.</p>
    <fieldset>
        <div>
            <h3>아이디</h3>
            <input type="text" name="user_id" placeholder="예: yumi_123" required>
            <p>영문, 숫자, 밑줄(_)만 사용 가능, 3~20자</p>
        </div>
        <div>
            <h3>비밀번호</h3>
            <input type="password" name="user_pwd" placeholder="비밀번호 입력" required>
            <p>6자 이상을 권장합니다.</p>
        </div>
        <div>
            <h3>비밀번호 확인</h3>
            <input type="password" name="user_pwd_retry" placeholder="비밀번호 재입력" required>
            <p>비밀번호를 다시 입력하세요.</p>
        </div>
    </fieldset>
    <fieldset>
        <div>
            <h3>성별</h3>
            <input type="radio" name="gender" id="gender_male" value="남성">
            <label for="gender_male">남성</label>
            <input type="radio" name="gender" id="gender_female" value="여성">
            <label for="gender_female">여성</label>
        </div>
        <div>
            <h3>취미(복수 선택 가능)</h3>
            <input type="checkbox" name="hobby" id="hobby1" value="독서">
            <label for="hobby1">독서</label>
            <input type="checkbox" name="hobby" id="hobby2" value="스킨스쿠버">
            <label for="hobby2">스킨스쿠버</label>
            <br>
            <input type="checkbox" name="hobby" id="hobby3" value="수영">
            <label for="hobby3">수영</label>
            <input type="checkbox" name="hobby" id="hobby4" value="자전거">
            <label for="hobby4">자전거</label>
            <br>
            <input type="checkbox" name="hobby" id="hobby5" value="러닝">
            <label for="hobby5">러닝</label>
        </div>
        <p>선택 사항입니다.</p>
    </fieldset>
    <input type="button" onclick="fn_validate()" value="가입하기">
    <input type="reset" onclick="fn_reset()" value="다시 입력">
</form>
</body>
</html>